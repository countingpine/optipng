Only in libpng: CHANGES-cos
Only in libpng-1.2.10: Makefile.in~
Only in libpng-1.2.10: contrib
diff -ru libpng-1.2.10/ltmain.sh libpng/ltmain.sh
--- libpng-1.2.10/ltmain.sh	2006-03-31 16:57:53.000000000 -0500
+++ libpng/ltmain.sh	2006-04-15 12:46:00.000000000 -0400
@@ -1,3 +1,4 @@
+#! /bin/sh
 # ltmain.sh - Provide generalized library-building support services.
 # NOTE: Changing this file will not affect anything until you rerun configure.
 #
diff -ru libpng-1.2.10/png.h libpng/png.h
--- libpng-1.2.10/png.h	2006-04-23 14:45:34.000000000 -0400
+++ libpng/png.h	2006-04-24 15:50:00.000000000 -0400
@@ -1,3 +1,5 @@
+/* MODIFIED version of libpng-1.2.10 by Cosmin Truta */
+#define PNG_USER_CONFIG
 
 /* png.h - header file for PNG reference library
  *
@@ -322,9 +324,9 @@
  */
 
 /* Version information for png.h - this should match the version in png.c */
-#define PNG_LIBPNG_VER_STRING "1.2.10"
+#define PNG_LIBPNG_VER_STRING "1.2.10-optipng"
 #define PNG_HEADER_VERSION_STRING \
-   " libpng version 1.2.10 - April 23, 2006 (header)\n"
+   " libpng version 1.2.10-optipng - April 24, 2006 (header)\n"
 
 #define PNG_LIBPNG_VER_SONUM   0
 #define PNG_LIBPNG_VER_DLLNUM  13
Only in libpng: pngusr.h
diff -ru libpng-1.2.10/scripts/makefile.gcc libpng/scripts/makefile.gcc
--- libpng-1.2.10/scripts/makefile.gcc	2006-03-06 12:13:03.000000000 -0500
+++ libpng/scripts/makefile.gcc	2006-04-17 01:29:00.000000000 -0400
@@ -18,34 +18,47 @@
 LDDEBUG =
 CRELEASE = -O2
 LDRELEASE = -s
-CFLAGS = -I$(ZLIBINC) -Wall $(CRELEASE)
-LDFLAGS = -L. -L$(ZLIBLIB) -lpng -lz -lm $(LDRELEASE)
+#CFLAGS = -Wall $(CDEBUG)
+CFLAGS = -Wall $(CRELEASE)
+#LDFLAGS = $(LDDEBUG)
+LDFLAGS = $(LDRELEASE)
+LIBS = -lz -lm
 
 # File extensions
 O=.o
 A=.a
-E=
+EXE=
 
 # Variables
 OBJS = png$(O) pngerror$(O) pngget$(O) pngmem$(O) pngpread$(O) \
-	pngread$(O) pngrio$(O) pngrtran$(O) pngrutil$(O) pngset$(O) \
-	pngtrans$(O) pngwio$(O) pngwrite$(O) pngwtran$(O) pngwutil$(O)
+       pngread$(O) pngrio$(O) pngrtran$(O) pngrutil$(O) pngset$(O) \
+       pngtrans$(O) pngwio$(O) pngwrite$(O) pngwtran$(O) pngwutil$(O)
 
 # Targets
-all: libpng$(A) pngtest$(E)
+all: static
+
+.c$(O):
+	$(CC) -c $(CFLAGS) -I$(ZLIBINC) $<
+
+static: libpng$(A) pngtest$(EXE)
+
+shared:
+	@echo This is a generic makefile that cannot create shared libraries.
+	@echo Please use a configuration that is specific to your platform.
+	@false
 
 libpng$(A): $(OBJS)
 	$(AR_RC) $@ $(OBJS)
 	$(RANLIB) $@
 
-test: pngtest$(E)
-	./pngtest$(E)
+test: pngtest$(EXE)
+	./pngtest$(EXE)
 
-pngtest$(E): pngtest$(O) libpng$(A)
-	$(LD) -o $@ pngtest$(O) $(LDFLAGS)
+pngtest$(EXE): pngtest$(O) libpng$(A)
+	$(LD) $(LDFLAGS) -L$(ZLIBLIB) -o $@ pngtest$(O) libpng$(A) $(LIBS)
 
 clean:
-	$(RM_F) *$(O) libpng$(A) pngtest$(E) pngout.png
+	$(RM_F) *$(O) libpng$(A) pngtest$(EXE) pngout.png
 
 png$(O): png.h pngconf.h
 pngerror$(O): png.h pngconf.h
